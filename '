import "@/App.css";
import Tiptap from "@/components/tiptap/Tiptap";
import { CommandDialogDemo } from "@/components/command/command";
import {
  SidebarInset,
  SidebarProvider,
} from "@/components/ui/sidebar";
import React, { useEffect, useState } from "react";
import clsx from "clsx";
import { SearchPanel } from "@/components/command/SearchPanel";
import useEditorStore from "@/stores/editorStore";
import { initStore } from "@/lib/stronghold";
import { Toaster } from "@/components/ui/sonner";
import { ThemePanel } from "./components/command/ThemePanel";

function App() {
  const [isOpen, setIsOpen] = useState(false);
  const {
    documentTitle,
    documentPlainText,
  } = useEditorStore();

  useEffect(()=> {initStore()}, [])

  return (
    <div>
        <Toaster />
        <SidebarInset>
          <header
          className={clsx("flex h-10 shrink-0 ml-16 items-center gap-2 px-3", {
            "-ml-1": isOpen,
          })}
        >
            <div className="flex-1">
            </div>
          </header>
          <Tiptap />
          <CommandDialogDemo />
          <SearchPanel />
          <ThemePanel />
    </ div>
  );
}

export default App;
